(this.webpackJsonpreact_front=this.webpackJsonpreact_front||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(4),s=a.n(i),r=(a(14),a(5)),m=a(6),o=a(2),c=a(8),u=a(7),d=(a(15),a(1)),h=a.n(d),f=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={formItem:{item:""},form:{nickname:"",email:"",first_name:"",last_name:"",cel:"",edad:""},items:[],list:"",url:"/public/api",paginate:[],update:!1,showItemForm:!1,showItemFormUpdate:!1},n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleChangeForm=n.handleChangeForm.bind(Object(o.a)(n)),n}return Object(m.a)(a,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value,n=this.state.formItem;n[t]=a,this.setState({formItem:n})}},{key:"handleChangeForm",value:function(e){var t=e.target.name,a=e.target.value,n=this.state.form;n[t]=a,this.setState({form:n})}},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"componentDidMount",value:function(){this.allItems()}},{key:"setForm",value:function(e){h()("span").hide(),0===e?this.setState({formItem:{item:""}}):this.setState({form:{nickname:"",email:"",first_name:"",last_name:"",cel:0,edad:0}})}},{key:"updateItem",value:function(e){var t=this,a={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("".concat(this.state.url+"/items/"+e.id),a).then((function(e){return e.json()})).then((function(e){t.allItems()}))}},{key:"deleteItem",value:function(e){var t=this;fetch("".concat(this.state.url+"/items/"+e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.allItems()}))}},{key:"showItem",value:function(e){1===e?this.setState({showItemFormUpdate:!0}):(this.setForm(0),this.setState({showItemFormUpdate:!1}));var t=this.state.showItemForm;this.setState({showItemForm:!t})}},{key:"addItem",value:function(e){var t=this,a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("".concat(this.state.url,"/items"),a).then((function(e){return e.json()})).then((function(e){t.allItems()}))}},{key:"allItems",value:function(){var e=this;fetch("".concat(this.state.url,"/items")).then((function(e){return e.json()})).then((function(t){e.setState({showItemForm:!1}),e.setForm(0),e.setState({items:t}),e.setState({list:t[0].item})}))}},{key:"editItem",value:function(e){this.showItem(1);var t=this.state.items.filter((function(t){return t.id===e}));this.setState({formItem:t[0]})}},{key:"setTitle",value:function(e){var t=this.state.items.filter((function(t){return t.id===e}));this.setState({list:t[0].item})}},{key:"createForm",value:function(e){var t=this,a=!0;h()(".span").each((function(){""==e[this.id]&&"nickname"!=this.id?(h()("#"+this.id).show(),a=!1):h()("#"+this.id).hide()})),Number(e.edad)>0?h()("#edad").hide():h()("#edad").show(),Number(e.cel)>0?h()("#cel").hide():h()("#cel").show(),a&&fetch("".concat(this.state.url,"/tasks/").concat(e.nickname)).then((function(e){return e.json()})).then((function(a){if(0===a.length){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("".concat(t.state.url,"/tasks"),n).then((function(e){return e.json()})).then((function(e){t.setForm(1),h()("#myModal").show("slow"),setTimeout((function(){h()("#myModal").fadeOut()}),5e3)}))}else h()("#nickname").show("slow")}))}},{key:"closeModal",value:function(){h()("#myModal").fadeOut()}},{key:"checkNickName",value:function(e){var t=this.state.form;-1!=e.search("@")?t.nickname=e.split("@")[0]:t.nickname=e,this.setState({form:t})}},{key:"render",value:function(){var e,t=this,a="";return this.state.showItemForm&&(e=this.state.showItemFormUpdate?l.a.createElement("button",{className:"button button2",onClick:function(){return t.updateItem(t.state.formItem)}},"Actualizar Item"):l.a.createElement("button",{className:"button button2",onClick:function(){return t.addItem(t.state.formItem)}},"Crear Item"),a=l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("input",{name:"item",value:this.state.formItem.item,type:"text",placeholder:"Add item",onChange:this.handleChange,autoFocus:!0,required:!0}))),e)),l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"nav"},l.a.createElement("h1",null,"FullStack Ekoomedia")),l.a.createElement("div",{className:"list"},l.a.createElement("div",{className:"menu"},l.a.createElement("a",{className:"button button2",onClick:function(){return t.showItem(0)}}," Crear Item    ",l.a.createElement("i",{className:"fas fa-plus-circle"})),this.state.items.map((function(e,a){return l.a.createElement("a",{key:a,className:"button button2",onClick:function(){return t.setTitle(e.id)}}," ",e.item," ",l.a.createElement("i",{className:"fas fa-edit coloredit",onClick:function(){return t.editItem(e.id)}}),"        ",l.a.createElement("i",{className:"fas fa-trash colordelete",onClick:function(){return t.deleteItem(e.id)}})," ")}))),l.a.createElement("div",{className:"main"},a,l.a.createElement("h2",null,"Hola bienvenido"),l.a.createElement("p",null,"Sabemos que quieres viajar en un ",l.a.createElement("b",null,this.state.list),". por favor diligencia el siguiente formulario:"),l.a.createElement("div",{className:"form"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("label",{for:"first_name"},"First Name"),l.a.createElement("span",{id:"first_name",className:"span"}," * First Name es requerido"),l.a.createElement("input",{name:"first_name",value:this.state.form.first_name,type:"text",placeholder:"First Name",onChange:this.handleChangeForm,autoFocus:!0,required:!0})),l.a.createElement("div",null,l.a.createElement("label",{for:"last_name"},"Last Name"),l.a.createElement("span",{id:"last_name",className:"span"}," * Last Name es requerido"),l.a.createElement("input",{name:"last_name",value:this.state.form.last_name,type:"text",placeholder:"Last Name",onChange:this.handleChangeForm,autoFocus:!0,required:!0})),l.a.createElement("div",null,l.a.createElement("label",{for:"email"},"Email"),l.a.createElement("span",{id:"email",className:"span"}," * Email es requerido"),l.a.createElement("input",{name:"email",value:this.state.form.email,onKeyUp:function(){return t.checkNickName(t.state.form.email)},type:"text",placeholder:"Email",onChange:this.handleChangeForm,autoFocus:!0,required:!0})),l.a.createElement("div",null,l.a.createElement("label",{for:"nickname"},"Nickname "),l.a.createElement("span",{id:"nickname",className:"span"}," * Nickname ya existe"),l.a.createElement("input",{name:"nickname",value:this.state.form.nickname,type:"text",placeholder:"Nickname",onChange:this.handleChangeForm,autoFocus:!0,disabled:!0})),l.a.createElement("div",null,l.a.createElement("label",{for:"edad"},"Edad"),l.a.createElement("span",{id:"edad",className:"span"}," * Edad debe estar entre 18 - 100 a\xf1os"),l.a.createElement("input",{name:"edad",value:this.state.form.edad,type:"text",placeholder:"Edad",onChange:this.handleChangeForm,autoFocus:!0,required:!0})),l.a.createElement("div",null,l.a.createElement("label",{for:"cel"},"Celular"),l.a.createElement("span",{id:"cel",className:"span"}," * Celular es requerido"),l.a.createElement("input",{name:"cel",value:this.state.form.cel,type:"text",placeholder:"Celular",onChange:this.handleChangeForm,autoFocus:!0,required:!0})),l.a.createElement("button",{className:"button button2",onClick:function(){return t.createForm(t.state.form)}},"Guardar Formulario"))))),l.a.createElement("div",{className:"right"},l.a.createElement("h2",null,"About"),l.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat."))),l.a.createElement("div",{className:"footer"},"Prueba T\xe9cnica"),l.a.createElement("div",{id:"myModal",className:"modal"},l.a.createElement("span",{className:"close cursor",onClick:function(){return t.closeModal()}},"\xd7"),l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"alert"},l.a.createElement("h3",null,l.a.createElement("strong",null,"Success!")," Los datos del formulario se crearon correctamente.")))))}}]),a}(n.Component);s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(f,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.a18f1647.chunk.js.map