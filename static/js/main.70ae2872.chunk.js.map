{"version":3,"sources":["App.js","index.js"],"names":["App","props","state","formItem","item","form","nickname","email","first_name","last_name","cel","edad","items","list","url","paginate","update","showItemForm","showItemFormUpdate","handleChange","bind","handleChangeForm","event","name","target","value","this","setState","preventDefault","allItems","id","$","hide","requestOptions","method","headers","body","JSON","stringify","fetch","then","res","json","data","type","setForm","show","showItem","filter","x","isOk","each","Number","length","setTimeout","fadeOut","search","split","buttonSub","button","className","onClick","updateItem","addItem","onSubmit","handleSubmit","placeholder","onChange","autoFocus","required","map","i","key","setTitle","editItem","deleteItem","for","onKeyUp","checkNickName","disabled","createForm","closeModal","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.70ae2872.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport './App.scss';\nimport $ from 'jquery';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      formItem : {\n        item : ''\n      },\n      form:{\n        nickname: '',\n        email: '',\n        first_name:'',\n        last_name:'',\n        cel: '',\n        edad:''\n      },\n      items: [],\n      list: '',\n      url: 'http://localhost/public/api',\n      paginate: [],\n      update: false,\n      showItemForm :false,\n      showItemFormUpdate :false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeForm = this.handleChangeForm.bind(this);\n  }\n\n  handleChange(event) { \n    const name = event.target.name;\n    const value = event.target.value;\n    let form = this.state.formItem\n    form[name] = value\n    this.setState({formItem : form});  \n  }\n\n  handleChangeForm(event) { \n    const name = event.target.name;\n    const value = event.target.value;\n    let form = this.state.form\n    form[name] = value\n    this.setState({form : form});  \n  }\n\n  handleSubmit(event) {\n        event.preventDefault();\n      }\n\n \n\n  componentDidMount() {\n   this.allItems()\n  \n  }\n\n  \n\n  \n\n  setForm(id){\n    $('span').hide()\n    if (id===0) {\n      this.setState(\n        {formItem: {item: ''}\n        }\n      );\n    }else{\n      this.setState(\n        {form: {nickname: '',\n        email: '',\n        first_name:'',\n        last_name:'',\n        cel: 0,\n        edad:0}\n        }\n      );\n    }\n    \n  }\n\n  updateItem(form){\n    // Simple PUT request with a JSON body using fetch\n    const requestOptions = {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(form)\n      };\n      fetch(`${this.state.url+'/items/'+form.id}`, requestOptions)\n        .then(res => res.json())\n        .then(data =>{\n          this.allItems()\n        });\n  }\n\n\n  deleteItem(id){\n    // Simple PUT request with a JSON body using fetch\n    const requestOptions = {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json' }\n      };\n      fetch(`${this.state.url+'/items/'+id}`, requestOptions)\n        .then(res => res.json())\n        .then(data =>{\n          this.allItems()\n        });\n  }\n\n  showItem(type){\n    if (type === 1) {\n      \n      this.setState({showItemFormUpdate: true});\n    }else{\n      this.setForm(0)\n      this.setState({showItemFormUpdate: false});\n    }\n    var show = this.state.showItemForm\n    this.setState({showItemForm: !show});\n   \n  }\n\n  addItem(formItem){\n    // Simple POST request with a JSON body using fetch\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(formItem)\n      };\n      fetch(`${this.state.url}/items`, requestOptions)\n        .then(res => res.json())\n        .then(data =>{\n          this.allItems()\n        });\n  }\n\n  allItems(){\n    fetch(`${this.state.url}/items`)\n    .then(res => res.json())\n    .then(data => {\n      this.setState({showItemForm: false});\n      this.setForm(0)\n     this.setState({items: data});\n    this.setState({list: data[0].item});\n    });\n  }\n\n  editItem(id){\n    \n    this.showItem(1)\n    var item = this.state.items.filter(x=>x.id === id)\n    this.setState({formItem: item[0]});\n  }\n\n  setTitle(id){\n    var item = this.state.items.filter(x=>x.id === id)\n    this.setState({list: item[0].item});\n  }\n\n  createForm(body){\n    var isOk = true\n   $('.span').each(function () {\n      if (body[this.id] == '' && this.id != 'nickname') {\n        $('#'+this.id).show()\n        isOk = false\n      }else{\n        $('#'+this.id).hide()\n      }\n    })\n    if( !(Number(body['edad'])>0) ){\n      $('#edad').show()\n    }else{\n      $('#edad').hide()\n    }\n    if( !(Number(body['cel'])>0) ){\n      $('#cel').show()\n    }else{\n      $('#cel').hide()\n    }\n    \n    if (isOk) {\n      fetch(`${this.state.url}/tasks/${body.nickname}`)\n      .then(res => res.json())\n      .then(data => {\n        if (data.length===0) {\n          const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(body)\n            };\n            fetch(`${this.state.url}/tasks`, requestOptions)\n            .then(res => res.json())\n            .then(data =>{\n              this.setForm(1)\n              $('#myModal').show('slow')\n            setTimeout(function(){ $('#myModal').fadeOut() }, 5000);\n            });\n        }else{\n          $('#nickname').show('slow')\n        }\n      \n    });\n    \n  }\n    \n     \n  }\n\n  closeModal(){\n    $('#myModal').fadeOut()\n  }\n\n  checkNickName(email){\n    let form = this.state.form\n    if (email.search('@') != -1) {\n      form['nickname'] = email.split('@')[0]\n    }else{\n      \n      form['nickname'] = email\n    }\n    this.setState({form : form});  \n     \n      \n  }\n\n  render() {\n    let button = '';\n    let buttonSub;\n    if(this.state.showItemForm) {\n      if (this.state.showItemFormUpdate) {\n        buttonSub = <button className=\"button button2\"  onClick={() => this.updateItem(this.state.formItem)}>Actualizar Item</button>\n      }else{\n        buttonSub =  <button className=\"button button2\"  onClick={() => this.addItem(this.state.formItem)}>Crear Item</button>\n      }\n      button = <form onSubmit={this.handleSubmit}>\n                <div >\n                  <div >\n                    <input name=\"item\" value={this.state.formItem.item} type=\"text\" placeholder=\"Add item\" onChange={this.handleChange} autoFocus required/>\n                  </div>\n                </div>\n               {buttonSub}\n                \n               </form>\n    }\n    \n    return (\n      <div className=\"App\">\n          <div className=\"nav\">\n            <h1>FullStack Ekoomedia</h1>\n          </div>\n          <div className=\"list\">\n            <div className=\"menu\">\n            <a className=\"button button2\" onClick={() => this.showItem(0)}> Crear Item    <i className=\"fas fa-plus-circle\"></i></a>\n            { \n                    this.state.items.map((item,i)=> {\n                      return (\n                      <a key={i} className=\"button button2\" onClick={() => this.setTitle(item.id)}> {item.item} <i className=\"fas fa-edit coloredit\"  onClick={() => this.editItem(item.id)}></i>        <i className=\"fas fa-trash colordelete\" onClick={() => this.deleteItem(item.id)}></i> </a>\n                      ) \n                  })\n            }\n            </div>\n            <div className=\"main\">\n            {button}\n              <h2>Hola bienvenido</h2>\n              <p>Sabemos que quieres viajar en un <b>{this.state.list}</b>. por favor diligencia el siguiente formulario:</p>\n              <div className=\"form\">\n              <form onSubmit={this.handleSubmit}>\n                <div >\n                  <div >\n                  <label for=\"first_name\">First Name</label><span id=\"first_name\" className=\"span\"> * First Name es requerido</span>\n                    <input name=\"first_name\" value={this.state.form.first_name} type=\"text\" placeholder=\"First Name\" onChange={this.handleChangeForm} autoFocus required/>\n                  </div>\n                  <div >\n                  <label for=\"last_name\">Last Name</label><span id=\"last_name\" className=\"span\"> * Last Name es requerido</span>\n                    <input name=\"last_name\" value={this.state.form.last_name} type=\"text\" placeholder=\"Last Name\" onChange={this.handleChangeForm} autoFocus required/>\n                  </div>\n                  <div >\n                  <label for=\"email\">Email</label><span id=\"email\" className=\"span\"> * Email es requerido</span>\n                    <input name=\"email\" value={this.state.form.email} onKeyUp={() => this.checkNickName(this.state.form.email)} type=\"text\" placeholder=\"Email\" onChange={this.handleChangeForm} autoFocus required/>\n                    \n                    </div>\n                  <div >\n                  <label for=\"nickname\">Nickname </label><span id=\"nickname\" className=\"span\"> * Nickname ya existe</span>\n                    <input name=\"nickname\" value={this.state.form.nickname}  type=\"text\" placeholder=\"Nickname\" onChange={this.handleChangeForm} autoFocus disabled/>\n                   </div>\n                  <div >\n                  <label for=\"edad\">Edad</label><span id=\"edad\" className=\"span\"> * Edad debe estar entre 18 - 100 años</span>\n                    <input name=\"edad\" value={this.state.form.edad} type=\"text\" placeholder=\"Edad\" onChange={this.handleChangeForm} autoFocus required/>\n                  </div>\n                  <div >\n                  <label for=\"cel\">Celular</label><span id=\"cel\" className=\"span\"> * Celular es requerido</span>\n                    <input name=\"cel\" value={this.state.form.cel} type=\"text\" placeholder=\"Celular\" onChange={this.handleChangeForm} autoFocus required/>\n                  </div>\n                  <button className=\"button button2\"  onClick={() => this.createForm(this.state.form)}>Guardar Formulario</button>\n                  \n                </div>\n                \n               </form>\n               </div>\n            </div>\n            <div className=\"right\">\n              <h2>About</h2>\n              <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.</p>\n            </div>\n          </div>\n          <div className=\"footer\">Prueba Técnica</div>\n          <div id=\"myModal\" className=\"modal\">\n            <span className=\"close cursor\" onClick={() => this.closeModal()}>&times;</span>\n            <div className=\"modal-content\">\n              <div className=\"alert\">\n                <h3><strong>Success!</strong> Los datos del formulario se crearon correctamente.</h3>\n                  \n              </div>\n             </div>\n          </div>\n      </div>\n    )\n  }\n\n\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}